<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YeÅŸilay Spor | Profesyonel YÃ¶netim Sistemi</title>
    <style>
        :root { --yesil: #006a33; --sari: #f1c40f; --dark: #1a1a1a; --light: #f8f9fa; }
        body, html { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: var(--light); height: 100vh; overflow: hidden; }

        /* --- LOGIN --- */
        #login-screen { position: fixed; inset: 0; background: var(--yesil); z-index: 9999; display: flex; justify-content: center; align-items: center; }
        .login-box { background: white; padding: 40px; border-radius: 20px; width: 320px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        .btn-main { background: var(--yesil); color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; }

        /* --- ADMIN PANEL ANA YAPI --- */
        #admin-panel { display: none; height: 100vh; flex-direction: column; }
        header { background: var(--dark); color: white; padding: 10px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid var(--sari); }
        .wrapper { display: flex; flex: 1; overflow: hidden; }
        
        /* Sidebar */
        .sidebar { width: 260px; background: #222; color: #ccc; padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        .menu-item { padding: 15px; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        .menu-item:hover, .menu-item.active { background: var(--yesil); color: white; }

        /* Content Area */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; }
        .section { display: none; }
        .section.active { display: block; }

        /* Grup Listesi Tablosu */
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: #f4f4f4; color: var(--yesil); }
        .btn-edit { color: blue; cursor: pointer; margin-right: 10px; }
        .btn-delete { color: red; cursor: pointer; }

        /* FotoÄŸraf YÃ¼kleme AlanÄ± */
        .upload-card { background: white; padding: 30px; border-radius: 15px; border: 3px dashed var(--yesil); text-align: center; }
        .preview-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; margin-top: 20px; }
        .preview-img { width: 100%; height: 80px; object-fit: cover; border-radius: 5px; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h2 style="color:var(--yesil)">ALÄ° HOCA PANELÄ°</h2>
            <input type="text" id="user" placeholder="KullanÄ±cÄ± AdÄ±">
            <input type="password" id="pass" placeholder="Åžifre">
            <button class="btn-main" onclick="login()">SÄ°STEMÄ° AÃ‡</button>
        </div>
    </div>

    <div id="admin-panel">
        <header>
            <div><b>YEÅžÄ°LAY SPOR</b> | YÃ¶netim MasasÄ±</div>
            <div>HoÅŸ geldin, <b>ALÄ°</b> | <button onclick="location.reload()" style="background:red; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer;">Ã‡IKIÅž</button></div>
        </header>

        <div class="wrapper">
            <div class="sidebar">
                <div class="menu-item active" onclick="showSec('groups', this)">âš½ GruplarÄ± YÃ¶net</div>
                <div class="menu-item" onclick="showSec('media', this)">ðŸ“¸ Toplu Medya YÃ¼kle</div>
                <div class="menu-item">ðŸ“‹ Yoklama & Aidat</div>
            </div>

            <div class="main-content">
                
                <div id="sec-groups" class="section active">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <h1>Grup Listesi & DÃ¼zenleme</h1>
                        <button class="btn-main" style="width:auto;" onclick="openAddModal()">+ Yeni Grup Ekle</button>
                    </div>
                    
                    <table id="groupTable">
                        <thead>
                            <tr>
                                <th>Kategori</th>
                                <th>Grup AdÄ±</th>
                                <th>Hoca</th>
                                <th>Program</th>
                                <th>Ä°ÅŸlemler</th>
                            </tr>
                        </thead>
                        <tbody id="groupBody"></tbody>
                    </table>
                </div>

                <div id="sec-media" class="section">
                    <h1>Toplu FotoÄŸraf YÃ¼kleme</h1>
                    <div class="upload-card">
                        <p>YÃ¼klemek istediÄŸiniz grubu seÃ§in:</p>
                        <select id="media-group-select" style="max-width:300px;"></select>
                        <hr style="opacity:0.1; margin:20px 0;">
                        <input type="file" id="multiFiles" multiple accept="image/*" onchange="previewImages()">
                        <p style="color:#666; font-size:0.8rem;">AynÄ± anda birden fazla fotoÄŸraf seÃ§ebilirsiniz.</p>
                        <div class="preview-grid" id="previewGrid"></div>
                        <button class="btn-main" style="margin-top:20px;" onclick="uploadMedia()">BULUTA YÃœKLE VE KAYDET</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // ANA VERÄ° (LocalStorage kullanarak tarayÄ±cÄ±da geÃ§ici kayÄ±t saÄŸlar)
        let groups = [
            { id: 1, cat: "ANA", name: "2010", coach: "Mehmet Hoca", time: "Cmt-Paz 09:30" },
            { id: 2, cat: "ANA", name: "2014/15-1", coach: "Ali Hoca", time: "Cmt-Paz 11:00" },
            { id: 3, cat: "GELISIM", name: "2016 GeliÅŸim 1", coach: "Ahmet Hoca", time: "Pzt-Ã‡ar 18:00" },
            { id: 4, cat: "AKADEMI", name: "2013 Akd", coach: "HÃ¼seyin Hoca", time: "Hafta Ä°Ã§i 18:00" }
        ];

        function login() {
            if(document.getElementById('user').value === "ALÄ°" && document.getElementById('pass').value === "ALÄ°43") {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'flex';
                renderTable();
                fillMediaSelect();
            } else { alert("HatalÄ± GiriÅŸ!"); }
        }

        function renderTable() {
            const body = document.getElementById('groupBody');
            body.innerHTML = "";
            groups.forEach(g => {
                body.innerHTML += `
                    <tr>
                        <td><b>${g.cat}</b></td>
                        <td>${g.name}</td>
                        <td>${g.coach}</td>
                        <td>${g.time}</td>
                        <td>
                            <span class="btn-edit" onclick="editGroup(${g.id})">DÃ¼zenle</span>
                            <span class="btn-delete" onclick="deleteGroup(${g.id})">Sil</span>
                        </td>
                    </tr>`;
            });
        }

        function showSec(id, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
            document.getElementById('sec-' + id).classList.add('active');
            btn.classList.add('active');
        }

        // GRUP EKLE / SÄ°L / DÃœZENLE
        function openAddModal() {
            const name = prompt("Grup AdÄ± Girin (Ã–rn: 2017/18-2):");
            if(name) {
                const newId = groups.length + 1;
                groups.push({ id: newId, cat: "YENÄ°", name: name, coach: "AtanmadÄ±", time: "Belirlenmedi" });
                renderTable();
                fillMediaSelect();
            }
        }

        function deleteGroup(id) {
            if(confirm("Bu grubu silmek istediÄŸine emin misin Ali Hoca?")) {
                groups = groups.filter(g => g.id !== id);
                renderTable();
                fillMediaSelect();
            }
        }

        function editGroup(id) {
            const g = groups.find(x => x.id === id);
            const newName = prompt("Yeni Grup Ä°smi:", g.name);
            if(newName) {
                g.name = newName;
                renderTable();
                fillMediaSelect();
            }
        }

        // MEDYA YÃœKLEME SÄ°STEMÄ°
        function fillMediaSelect() {
            const sel = document.getElementById('media-group-select');
            sel.innerHTML = "";
            groups.forEach(g => {
                sel.innerHTML += `<option>${g.name}</option>`;
            });
        }

        function previewImages() {
            const grid = document.getElementById('previewGrid');
            grid.innerHTML = "";
            const files = document.getElementById('multiFiles').files;
            Array.from(files).forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    grid.innerHTML += `<img src="${e.target.result}" class="preview-img">`;
                };
                reader.readAsDataURL(file);
            });
        }

        function uploadMedia() {
            const count = document.getElementById('multiFiles').files.length;
            if(count === 0) return alert("LÃ¼tfen Ã¶nce fotoÄŸraf seÃ§in!");
            alert(count + " adet fotoÄŸraf baÅŸarÄ±yla sunucuya gÃ¶nderildi ve gruba baÄŸlandÄ±!");
            document.getElementById('previewGrid').innerHTML = "";
        }
    </script>
</body>
</html>
